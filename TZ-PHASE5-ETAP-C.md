# –¢–ó –≠—Ç–∞–ø C ‚Äî RAG-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑—ã –≤ AI-—á–∞—Ç

> –ö–æ–Ω—Ç–µ–∫—Å—Ç: –≠—Ç–∞–ø A (AI-—á–∞—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–∞) –≤—ã–ø–æ–ª–Ω–µ–Ω. –≠—Ç–∞–ø B (–ø–∞—Ä—Å–µ—Ä –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑—ã, pgvector) ‚Äî –Ω–∞ –≤—Ç–æ—Ä–æ–º –∞–≥–µ–Ω—Ç–µ.
> –≠—Ç–∞–ø C —Å–≤—è–∑—ã–≤–∞–µ—Ç –∏—Ö: AI-–∏–Ω–∂–µ–Ω–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –ì–û–°–¢—ã/–°–ü/–°–ù–∏–ü.

---

## –¶–µ–ª—å

–î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π AI-—á–∞—Ç (AIChatPage + Edge Function `ai-chat`) —Ç–∞–∫, —á—Ç–æ–±—ã:
1. –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –∏—Å–∫–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ pgvector
2. –í–∫–ª—é—á–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç LLM
3. –í –æ—Ç–≤–µ—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ, –ø—É–Ω–∫—Ç, –Ω–æ–º–µ—Ä)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–µ–∂–∏–º: "–ü—Ä–æ–µ–∫—Ç" (—Ç–µ–∫—É—â–∏–π) / "–ù–æ—Ä–º–∞—Ç–∏–≤–∫–∞" / "–í—Å—ë"

---

## 1. –ù–æ–≤–∞—è Edge Function: `norm-search`

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —Ç–∞–±–ª–∏—Ü–µ `norm_chunks` (pgvector).

### Endpoint
`POST /norm-search`

### Request
```json
{
  "query": "–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ–ª—â–∏–Ω–∞ –∞–ª—é–º–∏–Ω–∏–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è –ù–í–§",
  "limit": 5,
  "threshold": 0.75
}
```

### –õ–æ–≥–∏–∫–∞
1. –ü–æ–ª—É—á–∏—Ç—å embedding –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ OpenAI `text-embedding-3-small`
2. –ü–æ–∏—Å–∫ –ø–æ `norm_chunks` —Å `<=>` (cosine distance)
3. JOIN —Å `norm_documents` –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
4. –í–µ—Ä–Ω—É—Ç—å —Ç–æ–ø-N —á–∞–Ω–∫–æ–≤ –≤—ã—à–µ threshold

### Response
```json
{
  "results": [
    {
      "chunk_id": "uuid",
      "document_id": "uuid",
      "document_title": "–ì–û–°–¢ 22233-2018",
      "document_code": "–ì–û–°–¢ 22233-2018",
      "section": "–ø. 5.2.3",
      "content": "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ–ª—â–∏–Ω–∞ —Å—Ç–µ–Ω–∫–∏ –∞–ª—é–º–∏–Ω–∏–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è...",
      "score": 0.89,
      "source_url": "https://docs.cntd.ru/document/..."
    }
  ]
}
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram initData (middleware `validateTelegramUser`)
- Rate limit: 20 req/min per user

### SQL –¥–ª—è –ø–æ–∏—Å–∫–∞
```sql
SELECT
  nc.id as chunk_id,
  nc.document_id,
  nd.title as document_title,
  nd.code as document_code,
  nc.section,
  nc.content,
  1 - (nc.embedding <=> $1::vector) as score
FROM norm_chunks nc
JOIN norm_documents nd ON nd.id = nc.document_id
WHERE 1 - (nc.embedding <=> $1::vector) > $2
ORDER BY nc.embedding <=> $1::vector
LIMIT $3;
```

---

## 2. –î–æ—Ä–∞–±–æ—Ç–∫–∞ Edge Function: `ai-chat`

### –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ request
```json
{
  "message": "...",
  "conversationId": "...",
  "projectId": "...",
  "mode": "all"  // "project" | "norms" | "all"
}
```

### –õ–æ–≥–∏–∫–∞ –ø–æ mode
- `"project"` ‚Äî —Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞, –±–µ–∑ –Ω–æ—Ä–º–∞—Ç–∏–≤–∫–∏)
- `"norms"` ‚Äî —Ç–æ–ª—å–∫–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ (–±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞)
- `"all"` (default) ‚Äî –∏ –ø—Ä–æ–µ–∫—Ç, –∏ –Ω–æ—Ä–º–∞—Ç–∏–≤–∫–∞

### RAG pipeline (–ø—Ä–∏ mode = "norms" –∏–ª–∏ "all")
1. –í—ã–∑–≤–∞—Ç—å `norm-search` –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ (–Ω–µ HTTP, –∞ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ Supabase)
2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —á–∞–Ω–∫–∏ (score > 0.75) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ system prompt:

```
## –ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã)

### –ì–û–°–¢ 22233-2018, –ø. 5.2.3
–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ–ª—â–∏–Ω–∞ —Å—Ç–µ–Ω–∫–∏ –∞–ª—é–º–∏–Ω–∏–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è...

### –°–ü 28.13330.2017, –ø. 9.1
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∑–∞—â–∏—Ç–µ –æ—Ç –∫–æ—Ä—Ä–æ–∑–∏–∏...

---
–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–≤–µ—Ç–∞. –£–∫–∞–∑—ã–≤–∞–π –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –ø—É–Ω–∫—Ç –ø—Ä–∏ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.
–ï—Å–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Äî —Å–∫–∞–∂–∏ –æ–± —ç—Ç–æ–º, –Ω–µ –≤—ã–¥—É–º—ã–≤–∞–π.
```

3. –í –æ—Ç–≤–µ—Ç–µ LLM ‚Äî –ø–∞—Ä—Å–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è UI

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
```json
{
  "response": "–°–æ–≥–ª–∞—Å–Ω–æ –ì–û–°–¢ 22233-2018 –ø. 5.2.3, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ–ª—â–∏–Ω–∞...",
  "citations": [
    {
      "document_code": "–ì–û–°–¢ 22233-2018",
      "section": "–ø. 5.2.3",
      "document_id": "uuid",
      "source_url": "https://docs.cntd.ru/document/..."
    }
  ]
}
```

---

## 3. –§—Ä–æ–Ω—Ç–µ–Ω–¥: –¥–æ—Ä–∞–±–æ—Ç–∫–∞ AIChatPage

### 3.1 –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–∞
–ù–∞–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥–∞ ‚Äî —Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª (3 –∫–Ω–æ–ø–∫–∏):
- üèóÔ∏è –ü—Ä–æ–µ–∫—Ç ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- üìê –ù–æ—Ä–º–∞—Ç–∏–≤–∫–∞ ‚Äî –ì–û–°–¢—ã/–°–ü/–°–ù–∏–ü
- üîÑ –í—Å—ë ‚Äî –æ–±–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (default)

–í–∏–∑—É–∞–ª:
- `flex gap-1`, `bg-bg2`, `rounded-xl`, `p-1`
- –ê–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞: `bg-bg3`, `text-t1`, `font-medium`
- –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è: `text-t3`
- –í—ã—Å–æ—Ç–∞: `h-8`, `text-[12px]`

### 3.2 –¶–∏—Ç–∞—Ç—ã –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö AI
–ö–æ–≥–¥–∞ –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `citations` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –±–ª–æ–∫ –ø–æ–¥ —Ç–µ–∫—Å—Ç–æ–º:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìÑ –ò—Å—Ç–æ—á–Ω–∏–∫–∏                    ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ –ì–û–°–¢ 22233-2018, –ø. 5.2.3     ‚îÇ ‚Üí —Ç–∞–ø –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç source_url
‚îÇ –°–ü 28.13330.2017, –ø. 9.1      ‚îÇ ‚Üí —Ç–∞–ø –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç source_url
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

–í–∏–∑—É–∞–ª:
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `bg-bg2/50`, `rounded-xl`, `p-3`, `mt-2`, `border border-border/10`
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `text-[11px]`, `text-t3`, `font-medium`, `uppercase`, `tracking-wider`
- –ö–∞–∂–¥–∞—è —Å—Å—ã–ª–∫–∞: `text-[13px]`, `text-primary`, —Ç–∞–ø ‚Üí `window.open(source_url, '_blank')`
- –ò–∫–æ–Ω–∫–∞ `ExternalLink` 12px —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–∞–∂–¥–æ–π —Å—Å—ã–ª–∫–∏
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É —Å—Å—ã–ª–∫–∞–º–∏: `border-b border-border/5`

### 3.3 –ë—ã—Å—Ç—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚Äî —Ä–∞—Å—à–∏—Ä–∏—Ç—å
–î–æ–±–∞–≤–∏—Ç—å –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ quick actions (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–≥–¥–∞ mode = "norms" –∏–ª–∏ "all"):
```ts
const normQuickActions = [
  { icon: "üìê", label: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ù–í–§", prompt: "–ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ì–û–°–¢ –∏ –°–ü –∫ –Ω–∞–≤–µ—Å–Ω—ã–º –≤–µ–Ω—Ç–∏–ª–∏—Ä—É–µ–º—ã–º —Ñ–∞—Å–∞–¥–∞–º?" },
  { icon: "üî©", label: "–ö—Ä–µ–ø—ë–∂ –°–ü–ö", prompt: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫—Ä–µ–ø–µ–∂—É —Å–≤–µ—Ç–æ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –ì–û–°–¢" },
  { icon: "üß±", label: "–û–≥–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å", prompt: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ñ–∞—Å–∞–¥–Ω—ã—Ö —Å–∏—Å—Ç–µ–º" },
  { icon: "üìè", label: "–î–æ–ø—É—Å–∫–∏ –º–æ–Ω—Ç–∞–∂–∞", prompt: "–î–æ–ø—É—Å—Ç–∏–º—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∞–∂–µ –ù–í–§ –ø–æ –°–ü –∏ –ì–û–°–¢" },
];
```

–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –Ω–∞—á–∞–ª–µ –¥–∏–∞–ª–æ–≥–∞ –≤–º–µ—Å—Ç–µ —Å —Ç–µ–∫—É—â–∏–º–∏ project quick actions.
–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞: —Å–µ–∫—Ü–∏—è "–ü–æ –ø—Ä–æ–µ–∫—Ç—É" + —Å–µ–∫—Ü–∏—è "–ü–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–∫–µ".

### 3.4 –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∏—Å–∫–∞
–ü–æ–∫–∞ –∏–¥—ë—Ç RAG-–ø–æ–∏—Å–∫ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞: `üîç –ò—â—É –≤ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑–µ...`
- `text-[12px]`, `text-t3`, `animate-pulse`
- –ò—Å—á–µ–∑–∞–µ—Ç –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç–≤–µ—Ç

### 3.5 –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
–ï—Å–ª–∏ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ –ø—É—Å—Ç–∞ (norm_documents = 0):
- –ü–æ–∫–∞–∑–∞—Ç—å placeholder: "üìö –ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è. –°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –ì–û–°–¢—ã, –°–ü –∏ –°–ù–∏–ü."
- –†–µ–∂–∏–º "–ù–æ—Ä–º–∞—Ç–∏–≤–∫–∞" ‚Äî disabled —Å tooltip

---

## 4. –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

```sql
-- –î–æ–±–∞–≤–∏—Ç—å mode –≤ ai_messages –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏
ALTER TABLE ai_messages ADD COLUMN IF NOT EXISTS mode text DEFAULT 'project';
-- CHECK: mode IN ('project', 'norms', 'all')

-- –î–æ–±–∞–≤–∏—Ç—å citations –≤ ai_messages
ALTER TABLE ai_messages ADD COLUMN IF NOT EXISTS citations jsonb DEFAULT '[]'::jsonb;

-- –ò–Ω–¥–µ–∫—Å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ mode
CREATE INDEX IF NOT EXISTS idx_ai_messages_mode ON ai_messages(mode);
```

---

## 5. –í–∏–∑—É–∞–ª MONOLITH

–í—Å–µ –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî –≤ —Å—Ç–∏–ª–µ MONOLITH v3.0:
- –¶–≤–µ—Ç–∞: `bg0`-`bg3`, `t1`-`t3`, `primary`, `border`
- –®—Ä–∏—Ñ—Ç: Manrope (UI), JetBrains Mono (–∫–æ–¥—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- –ö–æ–¥—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ì–û–°–¢, –°–ü): `font-mono`, `text-[12px]`, `text-primary/80`
- –¢–∞–ø-–∑–æ–Ω—ã: 44px+ –¥–ª—è —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –ê–Ω–∏–º–∞—Ü–∏–∏: `transition-all duration-200`

---

## 6. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- –≠—Ç–∞–ø B (–ø–∞—Ä—Å–µ—Ä) –¥–æ–ª–∂–µ–Ω –Ω–∞–ø–æ–ª–Ω–∏—Ç—å `norm_documents` + `norm_chunks` —Ö–æ—Ç—è –±—ã 5-10 –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –ø—É—Å—Ç—ã ‚Äî UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç placeholder (–ø. 3.5)
- Edge Function `ai-chat` –¥–æ–ª–∂–Ω–∞ graceful fallback –µ—Å–ª–∏ pgvector extension –Ω–µ –≤–∫–ª—é—á—ë–Ω

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç

1. –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (ALTER + INDEX)
2. Edge Function `norm-search`
3. –î–æ—Ä–∞–±–æ—Ç–∫–∞ `ai-chat` (RAG pipeline)
4. –§—Ä–æ–Ω—Ç–µ–Ω–¥: –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–∞ + —Ü–∏—Ç–∞—Ç—ã + quick actions + –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
5. –¢–µ—Å—Ç: –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ –ù–í–§ ‚Üí –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –ì–û–°–¢
